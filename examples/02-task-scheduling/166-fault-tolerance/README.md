# 故障轉移 (Fault Tolerance)

此示例展示如何實作高可靠性的任務調度系統，當 Worker 在執行任務過程中發生故障（如崩潰或被強制終止）時，系統能自動檢測並進行故障轉移 (Failover)，確保任務最終被完成。

## 功能說明

1.  **任務監控**: 系統追蹤每個 Worker 當前正在執行的任務。
2.  **故障模擬**: 提供按鈕隨機「殺死」一個正在執行任務的 Worker，模擬真實環境中的崩潰或網路斷線。
3.  **自動檢測**: 當 Worker 發生錯誤或被終止時，Worker Pool 會捕捉到此事件。
4.  **任務重試**: 系統會將失敗 Worker 手上的任務重新加入佇列頭部 (Unshift)，並標記為 `retrying`。
5.  **Worker 替補**: 系統會自動移除死亡的 Worker，並創建一個新的 Worker 來維持 Pool 的大小。
6.  **視覺化狀態**: 清楚展示任務狀態（待處理、執行中、已完成、重試中）以及 Worker 狀態。

## 使用方式

1.  開啟 `index.html`。
2.  點擊「新增任務」數次，讓 Worker 開始忙碌。
3.  在任務執行期間，點擊「隨機殺死一個正在工作的 Worker」。
4.  觀察：
    *   被殺死的 Worker 變為紅色 (Dead) 並隨後消失。
    *   日誌顯示故障發生以及任務重試訊息。
    *   原本該 Worker 執行的任務狀態變為橙色 (Retrying)。
    *   一個新的 Worker 被創建。
    *   重試的任務被重新分配給閒置的 Worker 並最終完成。

## 技術重點

*   **Error Recovery**: 錯誤恢復機制的核心邏輯。
*   **State Reconciliation**: 在組件失效時如何協調和恢復系統狀態。
*   **Queue Management**: 優先處理失敗任務的策略。
