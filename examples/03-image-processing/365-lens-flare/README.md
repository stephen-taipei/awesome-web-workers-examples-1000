# Lens Flare

此示例展示了如何使用 Web Worker 模擬鏡頭光暈（Lens Flare）效果。

## 技術原理

鏡頭光暈是光線在透鏡系統內部發生散射或反射造成的現象。此示例結合了兩種方法：

1.  **基於圖像的光暈 (Image-based Ghosts)**：
    *   **閾值提取 (Thresholding)**：首先識別圖像中的高亮區域。
    *   **光暈生成 (Ghost Generation)**：將高亮區域作為光源，生成多個倒置、縮放的副本（Ghosts）。這些副本沿著通過圖像中心和光源的軸線分佈。
    *   **色差模擬**：為每個副本賦予不同的顏色傾向，模擬光學鍍膜的效果。
    *   **暗角遮罩 (Vignetting)**：光暈在圖像邊緣會自然衰減。

2.  **合成星芒 (Synthetic Starburst)**：
    *   基於使用者點擊的位置（或高亮中心），生成放射狀的星芒效果。
    *   使用高頻正弦波函數模擬光線的隨機散射。

## 參數說明

*   **閾值 (Threshold)**：決定哪些亮度級別的像素會產生光暈。
*   **光暈強度 (Intensity)**：控制光暈的明亮程度。
*   **光暈數量 (Artifacts)**：生成的“鬼影”副本數量。
*   **光源位置**：點擊圖片可設定主光源位置，用於生成星芒效果。

## 使用方式

1.  上傳圖片。
2.  調整閾值，使預覽中只剩下最亮的光源部分。
3.  調整強度和數量以達到藝術效果。
4.  點擊圖片上的強光源位置，添加星芒。
