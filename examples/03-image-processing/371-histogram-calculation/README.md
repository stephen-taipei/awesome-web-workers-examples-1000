# Histogram Calculation

此示例展示了如何使用 Web Worker 計算圖片的顏色直方圖（Histogram）。

## 技術原理

直方圖是表示數位圖像中亮度分佈的統計圖表。橫軸代表亮度級別（0-255），縱軸代表該亮度級別的像素數量。

1.  **像素掃描**：Worker 遍歷圖像的每一個像素。
2.  **統計計數**：
    *   分別讀取 R、G、B 通道的數值，並在對應的直方圖陣列（大小 256）中增加計數。
    *   計算亮度（Luminance = 0.299R + 0.587G + 0.114B）並統計亮度直方圖。
3.  **數據傳輸**：將統計結果（TypedArray）傳回主執行緒。
4.  **視覺化**：主執行緒使用 Canvas 繪製直方圖曲線。

## 應用場景

*   **曝光分析**：判斷圖片是否過曝（波峰集中在右側）或欠曝（波峰集中在左側）。
*   **對比度分析**：判斷圖片對比度是否足夠（直方圖分佈範圍寬窄）。
*   **色彩平衡**：觀察不同通道的分佈是否一致。

## 效能

統計過程是 O(N) 的線性操作，其中 N 為像素總數。對於 1000 萬像素的圖片，需要進行約 4000 萬次讀取和加法運算。使用 Web Worker 可以避免在大圖分析時阻塞 UI。
