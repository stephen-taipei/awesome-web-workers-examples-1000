# 去噪處理 (Denoise)

本範例展示如何使用 Web Worker 實現非局部均值（Non-Local Means, NLM）去噪算法。

## 功能簡介

- **圖像去噪**：有效去除高斯噪聲，同時保留圖像的邊緣和紋理細節。
- **參數調整**：
    -   **強度 (Strength/h)**：控制去噪的力度，值越大越模糊但去噪越強。
    -   **搜索窗口 (Search Window)**：尋找相似補丁的範圍。
    -   **補丁大小 (Patch Size)**：用於計算相似度的鄰域大小。

## 技術重點

1.  **非局部均值算法 (Non-Local Means)**：
    -   不同於局部均值（如高斯模糊），NLM 利用圖像中所有像素（或大範圍搜索窗口內）的相似性。
    -   對於每個像素，搜索其周圍的像素塊（Patch）。
    -   計算當前像素塊與搜索窗口內其他像素塊的歐氏距離（相似度）。
    -   根據相似度計算權重，進行加權平均。
    -   $ w(p, q) = e^{-\frac{|| v(p) - v(q) ||^2}{h^2}} $

2.  **Web Worker 平行處理**：
    -   NLM 算法非常耗時（複雜度高），適合將計算負載移至 Web Worker。
    -   本例採用簡化版本，但仍能觀察到其計算密集特性。

## 使用方式

1.  開啟網頁。
2.  上傳一張帶有噪點的圖片，或點擊「添加測試噪聲」為當前圖片添加噪聲。
3.  調整強度、窗口大小等參數。
4.  點擊「開始去噪」按鈕。注意：較大的窗口和補丁大小會顯著增加計算時間。
