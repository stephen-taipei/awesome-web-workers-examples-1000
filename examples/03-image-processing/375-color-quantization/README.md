# Color Quantization (顏色量化)

Web Worker Example #375

## 簡介

本範例展示如何使用 Web Worker 進行顏色量化，即減少圖片中使用的顏色數量。這裡使用的是 **八叉樹 (Octree)** 算法，這是一種高效的顏色量化方法，能夠在減少顏色數量的同時，盡可能保持圖片的視覺品質。

## 功能

*   **八叉樹量化**: 使用 Octree 數據結構動態合併相似顏色。
*   **自訂顏色數**: 支援設定目標顏色數量 (如 4, 8, 16 ... 256)。
*   **即時處理**: 使用 Web Worker 在背景執行緒進行大量的像素處理與樹結構操作。

## 技術重點

1.  **Octree 數據結構**: 用於將 RGB 顏色空間遞迴分割。
2.  **節點合併**: 當葉節點數量超過限制時，將底層節點合併到父節點，從而減少顏色數。
3.  **顏色映射**: 建立調色盤後，將原始像素顏色映射到最近的調色盤顏色。

## 使用方式

1.  點擊上傳區域選擇圖片。
2.  選擇 **Max Colors** (最大顏色數)，例如 256 或 16。
3.  點擊 "Quantize Colors" 開始處理。
4.  觀察原始圖片與量化後圖片的差異，以及顏色數量的變化。
