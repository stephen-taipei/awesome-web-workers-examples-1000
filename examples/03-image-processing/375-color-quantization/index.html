<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Quantization - Web Worker Example #375</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Color Quantization</h1>
            <p class="subtitle">Web Worker Example #375 - Octree Quantization</p>
            <div class="badges">
                <span class="badge badge-beginner">Intermediate</span>
                <span class="badge badge-worker">Single Worker</span>
            </div>
        </header>

        <main>
            <section class="description">
                <h2>About Color Quantization</h2>
                <p>Reduces the number of distinct colors used in an image, usually with the intention that the new image should be as visually similar as possible to the original image. This example uses the Octree algorithm.</p>
            </section>

            <section class="controls">
                <h2>Settings</h2>
                <div class="input-group">
                    <label for="colorCount">Max Colors: <span id="colorCountVal">256</span></label>
                    <select id="colorCount">
                        <option value="4">4</option>
                        <option value="8">8</option>
                        <option value="16">16</option>
                        <option value="32">32</option>
                        <option value="64">64</option>
                        <option value="128">128</option>
                        <option value="256" selected>256</option>
                    </select>
                </div>

                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">ðŸ“·</div>
                    <p>Drop an image here or click to select</p>
                    <input type="file" id="fileInput" accept="image/*" hidden>
                </div>

                <div class="button-group">
                    <button id="processBtn" class="btn btn-primary" disabled>Quantize Colors</button>
                    <button id="resetBtn" class="btn btn-outline">Reset</button>
                </div>
            </section>

            <section id="progressContainer" class="progress-section hidden">
                <div class="progress-bar-container">
                    <div id="progressBar" class="progress-bar"></div>
                </div>
                <p id="progressText" class="progress-text">Processing...</p>
            </section>

            <section class="visualization">
                <h2>Preview</h2>
                <div class="image-comparison">
                    <div class="image-panel">
                        <h3>Original</h3>
                        <canvas id="originalCanvas"></canvas>
                        <p id="originalInfo" class="image-info">No image loaded</p>
                    </div>
                    <div class="image-panel">
                        <h3>Quantized</h3>
                        <canvas id="processedCanvas"></canvas>
                        <p id="processedInfo" class="image-info">-</p>
                    </div>
                </div>
            </section>

            <section id="resultContainer" class="result-section hidden">
                <h2>Results</h2>
                <div class="results-grid">
                    <div class="result-item">
                        <span class="result-label">Processing Time</span>
                        <span id="processingTime" class="result-value">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Original Colors</span>
                        <span id="origColors" class="result-value">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Final Colors</span>
                        <span id="finalColors" class="result-value">-</span>
                    </div>
                </div>
                <div class="download-section">
                    <button id="downloadBtn" class="btn btn-primary">Download Image</button>
                </div>
            </section>
        </main>
    </div>
    <script src="main.js"></script>
</body>
</html>
