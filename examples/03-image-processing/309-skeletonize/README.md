# 骨架提取 (Skeletonize)

骨架提取（或細化）是一種形態學運算，用於將二值圖像中的物體縮減為單像素寬的線條（骨架），同時保留物體的拓撲結構（連通性）和形狀特徵。

## 原理

本示例使用經典的 **Zhang-Suen 細化算法**。該算法是一種並行細化算法，通過兩步迭代來移除邊界像素：

1.  **二值化**：首先將彩色圖像轉換為黑白二值圖像。
2.  **迭代過程**：
    *   **步驟 1**：遍歷所有前景像素，標記滿足特定條件的像素（如鄰居數在2-6之間、0->1轉換次數為1、特定方向鄰居為0等）。然後刪除標記的像素。
    *   **步驟 2**：與步驟 1 類似，但對方向條件稍作修改。然後刪除標記的像素。
3.  **終止條件**：當在一次完整的迭代（步驟1+步驟2）中沒有像素被刪除時，算法結束。

## 使用方式

1.  上傳圖片。
2.  調整「二值化閾值」：這決定了哪些像素被視為前景（物體），哪些是背景。
3.  點擊「提取骨架」。

## 技術實現

*   **Web Worker**：由於細化算法需要多次迭代遍歷整張圖片，計算量非常大，因此必須在 Web Worker 中執行以避免凍結 UI。
*   **像素操作**：使用 `Uint8Array` 存儲二值化的像素狀態 (0/1)，以提高存取速度。
*   **性能**：對於大圖片，算法可能需要數十次甚至數百次迭代，耗時可能較長（數秒）。

## 注意事項

*   骨架提取通常對噪聲敏感，預處理（如平滑去噪）可能會有幫助（本示例僅包含核心細化功能）。
*   閾值的選擇對結果影響很大，請根據圖片內容調整。通常適用於提取文字、線條畫、指紋等特徵。
