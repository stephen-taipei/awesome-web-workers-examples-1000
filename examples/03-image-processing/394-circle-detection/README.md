# 圓形檢測 (Circle Detection)

本示例展示了如何使用 Web Workers 和霍夫圓變換 (Hough Circle Transform) 來檢測圖像中的圓形。

## 技術重點

1.  **邊緣與梯度 (Edge & Gradient)**:
    - 使用 Sobel 算子獲取邊緣點及其梯度方向。
    - 圓的圓心必定位於其邊緣點的法線方向（即梯度方向）上。

2.  **兩階段霍夫變換**:
    - **圓心檢測**: 利用梯度方向信息，邊緣點沿梯度方向投票，累加器中的峰值即為候選圓心。這種方法比標準的 3D 霍夫變換（x, y, r）快很多。
    - **半徑確定**: 對於每個候選圓心，計算所有邊緣點到該中心的距離，構建半徑直方圖，峰值對應半徑。

3.  **非極大值抑制與過濾**:
    - 在累加器中尋找局部最大值以確定圓心。
    - 根據圓周完整度（投票數與圓周長的比率）過濾無效圓。
    - 移除重疊的圓。

## 使用說明

1.  上傳包含圓形物體的圖片（如硬幣、球、圓形標誌）。
2.  調整半徑範圍參數（**Min Radius**, **Max Radius**）以匹配圖中圓的大小。
3.  點擊「開始檢測」。
4.  結果將在圖像上繪製出檢測到的紫色圓圈和圓心。

## 注意事項

- 對於同心圓或重疊嚴重的圓，檢測難度較大。
- 梯度方向的計算對噪聲敏感，因此預處理的平滑步驟很重要（本示例為了簡潔省略了高斯模糊，但在實際應用中推薦加上）。
- 半徑範圍設置得越精確，檢測速度越快且越準確。
