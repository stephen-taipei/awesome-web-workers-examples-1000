<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>#016 GCD/LCM 計算器 - Web Workers 範例</title>
    <meta name="description" content="使用 Web Worker 計算最大公因數與最小公倍數">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- 頁首 -->
        <header class="header">
            <h1>GCD / LCM 計算器</h1>
            <p class="subtitle">Greatest Common Divisor & Least Common Multiple</p>
            <div class="badge-container">
                <span class="badge badge-primary">#016</span>
                <span class="badge badge-secondary">計算密集型</span>
                <span class="badge badge-success">初級</span>
            </div>
            <div class="formula-display">
                gcd(a, b) × lcm(a, b) = |a × b|
            </div>
        </header>

        <!-- GCD 計算 -->
        <section class="card">
            <h2 class="card-title">🔢 最大公因數 (GCD)</h2>
            <p class="card-description">
                使用歐幾里得算法計算兩數的最大公因數
            </p>

            <div class="input-row">
                <div class="form-group">
                    <label class="form-label" for="gcd-a">第一個數 (a)</label>
                    <input type="text" id="gcd-a" class="form-input" value="48" placeholder="輸入整數">
                </div>
                <div class="form-group">
                    <label class="form-label" for="gcd-b">第二個數 (b)</label>
                    <input type="text" id="gcd-b" class="form-input" value="18" placeholder="輸入整數">
                </div>
            </div>

            <div class="checkbox-group">
                <input type="checkbox" id="gcd-show-steps">
                <label for="gcd-show-steps">顯示計算步驟</label>
            </div>

            <div class="form-group">
                <label class="form-label">範例</label>
                <div class="preset-buttons">
                    <button class="preset-btn" data-target="gcd-a" data-value="48">48, 18</button>
                    <button class="preset-btn" data-target="gcd-a" data-value="1071">1071, 462</button>
                    <button class="preset-btn" data-target="gcd-a" data-value="123456789">大數測試</button>
                </div>
            </div>

            <div id="error-message" class="error-message hidden"></div>

            <div class="btn-group">
                <button id="gcd-btn" class="btn btn-primary">計算 GCD</button>
                <button id="stop-btn" class="btn btn-danger" disabled>停止</button>
            </div>
        </section>

        <!-- LCM 計算 -->
        <section class="card">
            <h2 class="card-title">✖️ 最小公倍數 (LCM)</h2>
            <p class="card-description">
                利用 GCD 計算最小公倍數：lcm(a,b) = |a×b| / gcd(a,b)
            </p>

            <div class="input-row">
                <div class="form-group">
                    <label class="form-label" for="lcm-a">第一個數 (a)</label>
                    <input type="text" id="lcm-a" class="form-input" value="12" placeholder="輸入整數">
                </div>
                <div class="form-group">
                    <label class="form-label" for="lcm-b">第二個數 (b)</label>
                    <input type="text" id="lcm-b" class="form-input" value="18" placeholder="輸入整數">
                </div>
            </div>

            <button id="lcm-btn" class="btn btn-primary">計算 LCM</button>
        </section>

        <!-- 擴展歐幾里得 -->
        <section class="card">
            <h2 class="card-title">📐 擴展歐幾里得算法</h2>
            <p class="card-description">
                計算 Bézout 係數 x, y 使得 ax + by = gcd(a, b)
            </p>

            <div class="input-row">
                <div class="form-group">
                    <label class="form-label" for="ext-a">a</label>
                    <input type="text" id="ext-a" class="form-input" value="240" placeholder="輸入整數">
                </div>
                <div class="form-group">
                    <label class="form-label" for="ext-b">b</label>
                    <input type="text" id="ext-b" class="form-input" value="46" placeholder="輸入整數">
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">範例</label>
                <div class="preset-buttons">
                    <button class="preset-btn" data-target="ext-a" data-value="240">240, 46</button>
                    <button class="preset-btn" data-target="ext-a" data-value="17">17, 13 (互質)</button>
                    <button class="preset-btn" data-target="ext-a" data-value="65537">65537, 3120</button>
                </div>
            </div>

            <button id="ext-btn" class="btn btn-secondary">計算 Bézout 係數</button>
        </section>

        <!-- 多數 GCD/LCM -->
        <section class="card">
            <h2 class="card-title">📊 多數 GCD / LCM</h2>
            <p class="card-description">
                計算多個數字的 GCD 或 LCM
            </p>

            <div class="form-group">
                <label class="form-label" for="multi-numbers">數字列表（逗號或空格分隔）</label>
                <textarea id="multi-numbers" class="form-input" rows="3" placeholder="12, 18, 24, 36">12, 18, 24, 36</textarea>
            </div>

            <div class="btn-group">
                <button id="multi-gcd-btn" class="btn btn-primary">計算 GCD</button>
                <button id="multi-lcm-btn" class="btn btn-secondary">計算 LCM</button>
            </div>
        </section>

        <!-- 互質判定 -->
        <section class="card">
            <h2 class="card-title">🔍 互質判定</h2>
            <p class="card-description">
                檢查多個數字是否兩兩互質（GCD = 1）
            </p>

            <div class="form-group">
                <label class="form-label" for="coprime-numbers">數字列表</label>
                <textarea id="coprime-numbers" class="form-input" rows="2" placeholder="15, 28, 17">15, 28, 17</textarea>
            </div>

            <button id="coprime-btn" class="btn btn-secondary">檢查互質</button>
        </section>

        <!-- 方法比較 -->
        <section class="card">
            <h2 class="card-title">⚡ 演算法比較</h2>
            <p class="card-description">
                比較歐幾里得算法與 Stein's Algorithm 的效能
            </p>

            <div class="input-row">
                <div class="form-group">
                    <label class="form-label" for="compare-a">a</label>
                    <input type="text" id="compare-a" class="form-input" value="123456789012345678901234567890" placeholder="大數">
                </div>
                <div class="form-group">
                    <label class="form-label" for="compare-b">b</label>
                    <input type="text" id="compare-b" class="form-input" value="98765432109876543210987654321" placeholder="大數">
                </div>
            </div>

            <button id="compare-btn" class="btn btn-info">比較方法</button>
        </section>

        <!-- 進度 -->
        <section class="card">
            <h2 class="card-title">📈 計算進度</h2>
            <div class="progress-container">
                <div class="progress-bar-wrapper">
                    <div id="progress-bar" class="progress-bar" style="width: 0%">0%</div>
                </div>
                <p id="progress-text" class="progress-text">準備就緒</p>
            </div>
        </section>

        <!-- 結果區域 -->
        <section id="gcd-result" class="card result-section hidden"></section>
        <section id="lcm-result" class="card result-section hidden"></section>
        <section id="ext-result" class="card result-section hidden"></section>
        <section id="multi-result" class="card result-section hidden"></section>
        <section id="coprime-result" class="card result-section hidden"></section>
        <section id="compare-result" class="card result-section hidden"></section>

        <!-- 說明 -->
        <section class="card info-section">
            <h3>📚 關於此範例</h3>
            <ul>
                <li><strong>GCD (最大公因數)：</strong>能同時整除 a 和 b 的最大正整數</li>
                <li><strong>LCM (最小公倍數)：</strong>能被 a 和 b 同時整除的最小正整數</li>
                <li><strong>歐幾里得算法：</strong>gcd(a, b) = gcd(b, a mod b)，O(log min(a,b))</li>
                <li><strong>Stein's Algorithm：</strong>只用減法和位移，對某些架構更快</li>
                <li><strong>Bézout 恆等式：</strong>存在整數 x, y 使得 ax + by = gcd(a, b)</li>
                <li><strong>互質：</strong>兩數的 GCD 為 1，在密碼學中非常重要</li>
                <li><strong>應用：</strong>分數約簡、模反元素、RSA 金鑰生成</li>
            </ul>
        </section>

        <!-- 頁尾 -->
        <footer class="footer">
            <p>
                <a href="../../../">Awesome Web Workers Examples 1000</a>
                &nbsp;|&nbsp;
                範例 #016 - GCD/LCM 計算器
            </p>
        </footer>
    </div>

    <script src="main.js"></script>
</body>
</html>
